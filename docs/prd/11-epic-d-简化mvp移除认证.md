# 11. Epic D: 简化MVP - 移除认证模块

## Epic概述
**目标**: 通过移除认证系统障碍，创建一个零门槛的演示版本，让用户能够立即体验Director-Actor-Collaborator多Agent协作的核心价值。

**时间线**: 第4周（3-5个工作日）

**优先级**: 高 - 直接影响产品演示效果和用户初次体验

## 业务价值
* **降低体验门槛**: 消除注册/登录步骤，用户打开即可使用
* **聚焦核心功能**: 突出多Agent剧本分析与修改的核心能力
* **加速反馈循环**: 更快获得用户对核心功能的真实反馈
* **简化演示流程**: 产品演示时无需处理账号相关问题

## 功能范围

### 包含功能
1. **默认用户系统**
   - 自动分配默认用户身份
   - 无需登录即可使用所有功能
   - 保持用户体验的连贯性

2. **简化的导航流程**
   - 直接进入剧本编辑界面
   - 移除所有认证相关页面和组件
   - 优化首页直达核心功能

3. **3步操作流程**
   - 步骤1: 输入/上传剧本
   - 步骤2: AI Agent协作分析
   - 步骤3: 查看并应用修改建议

### 排除功能
* 用户注册和登录
* 密码管理功能
* 用户个人设置
* 多用户数据隔离（演示版本共享数据空间）

## 技术实现要点

### 架构变更
1. **移除NextAuth依赖**
   - 清理package.json中的@auth相关包
   - 移除auth配置文件和中间件

2. **默认用户实现**
   ```typescript
   // 替代原有的auth()调用
   export const getDefaultUser = () => ({
     id: 'demo-user',
     email: 'demo@example.com',
     name: 'Demo User'
   })
   ```

3. **数据库适配**
   - 创建默认用户记录
   - 所有操作关联到默认用户
   - 保持schema结构不变以便未来恢复

### 代码可逆性设计
* 所有变更通过feature分支进行
* 保留原有认证代码结构（注释形式）
* 使用环境变量控制演示/生产模式
* Git提交清晰标记每个变更点

## 成功指标
1. **用户体验指标**
   - 首次使用时间 < 30秒
   - 核心功能点击深度 ≤ 3次
   - 无认证相关错误提示

2. **技术指标**
   - 页面加载时间减少20%（无认证开销）
   - 代码复杂度降低
   - 测试覆盖率保持在80%以上

## 风险与缓解措施

| 风险 | 影响 | 缓解措施 |
|-----|------|---------|
| 生产环境误用 | 高 | 明确的环境变量区分，启动时警告提示 |
| 数据混淆 | 中 | 演示数据定期清理，明确标识为演示环境 |
| 功能回退困难 | 低 | 详细的回退文档，保留完整git历史 |

## 验收标准
- [ ] 用户无需任何认证即可访问所有功能
- [ ] 核心剧本分析功能100%可用
- [ ] 3步操作流程验证通过
- [ ] 无认证相关的控制台错误
- [ ] 代码通过lint和类型检查
- [ ] 回退测试验证通过
- [ ] 更新部署文档包含演示模式说明

## 依赖关系
* 依赖Epic A、B、C的完成
* 不阻塞后续功能开发
* 可独立部署为演示环境

## 后续计划
1. 收集演示版本的用户反馈
2. 基于反馈优化核心功能
3. 评估是否需要轻量级用户系统（如仅邮箱）
4. 准备生产版本的认证系统重新集成计划