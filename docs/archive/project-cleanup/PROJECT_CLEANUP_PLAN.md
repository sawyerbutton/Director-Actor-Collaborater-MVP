# é¡¹ç›®æ¸…ç†è®¡åˆ’ (Project Cleanup Plan)

**åˆ†æ”¯**: `feature/project-cleanup`
**åˆ›å»ºæ—¥æœŸ**: 2025-11-09
**ç›®æ ‡**: æ¸…ç†æ ¹ç›®å½•æ··ä¹±æ–‡ä»¶ï¼Œä¼˜åŒ–é¡¹ç›®ç»“æ„ï¼Œæé«˜å¯ç»´æŠ¤æ€§

---

## ğŸ“‹ å½“å‰é—®é¢˜åˆ†æ

### æ ¹ç›®å½•æ–‡ä»¶è¿‡å¤š (50+ æ–‡ä»¶/æ–‡ä»¶å¤¹)
æ ¹ç›®å½•åŒ…å«ä»¥ä¸‹ç±»åˆ«çš„æ–‡ä»¶ï¼š
1. **æ ¸å¿ƒé…ç½®æ–‡ä»¶** - Next.js, TypeScript, ESLint ç­‰
2. **æ–‡æ¡£æ–‡ä»¶** - ä¸šåŠ¡éœ€æ±‚ã€æŠ€æœ¯æ–‡æ¡£ã€å‚è€ƒæ–‡æ¡£
3. **ç¯å¢ƒé…ç½®** - å¤šä¸ª .env æ–‡ä»¶
4. **ä¸´æ—¶/å†å²æ–‡ä»¶** - æµ‹è¯•ç»“æœã€æ„å»ºæ—¥å¿—ã€æ—§çš„æ–‡æ¡£
5. **æœªä½¿ç”¨çš„åŠŸèƒ½æ¨¡å—** - ä¸€äº›å†å²é—ç•™ä»£ç 

### å­ç›®å½•æ··ä¹±
- `docs/` - æ–‡æ¡£åˆ†æ•£ï¼Œåˆ†ç±»ä¸æ¸…
- `lib/` - ä»£ç æ¨¡å—æ··æ‚
- `tests/` - æµ‹è¯•æ–‡ä»¶ç»„ç»‡ä¸å¤Ÿæ¸…æ™°
- `scripts/` - è„šæœ¬æ–‡ä»¶ç”¨é€”ä¸æ˜ç¡®

---

## ğŸ¯ æ¸…ç†ç­–ç•¥

### Phase 1: æ ¹ç›®å½•æ–‡æ¡£æ•´ç† (ä¼˜å…ˆçº§: P0)

#### 1.1 éœ€è¦ä¿ç•™çš„æ ¸å¿ƒæ–‡æ¡£ (ä¿æŒåœ¨æ ¹ç›®å½•)
- [x] `README.md` - é¡¹ç›®ä¸»æ–‡æ¡£
- [x] `CLAUDE.md` - AIå¼€å‘æŒ‡å—
- [x] `LICENSE` - å¼€æºåè®®
- [x] `package.json` - ä¾èµ–ç®¡ç†
- [x] `tsconfig.json` - TypeScripté…ç½®
- [x] `.gitignore` - Gitå¿½ç•¥è§„åˆ™

#### 1.2 éœ€è¦ç§»åŠ¨åˆ° `docs/` çš„æ–‡æ¡£
**ç›®æ ‡ä½ç½®**: `docs/archive/old-design/`
- [ ] `ACT1_TECHNICAL_IMPLEMENTATION.md` (67KB) â†’ å·²è¢« `ref/AI_AGENTS.md` æ›¿ä»£
- [ ] `BUSINESS_FLOW.md` (37KB) â†’ å·²è¢« `docs/architecture/01_BUSINESS_FLOW.md` æ›¿ä»£
- [ ] `BUSINESS_REQUIREMENTS_DISCUSSION.md` (13KB) â†’ å†å²è®¨è®ºè®°å½•
- [ ] `MULTI_SCRIPT_ANALYSIS_REQUIREMENTS.md` (23KB) â†’ å·²è¢« `ref/MULTI_FILE_ANALYSIS.md` æ›¿ä»£
- [ ] `PENDING_DISCUSSIONS.md` (14KB) â†’ å†å²å¾…è®¨è®ºäº‹é¡¹
- [ ] `å‰§æœ¬å¤§çº²è½¬JSONä¸šåŠ¡æµç¨‹æ–‡æ¡£.md` (24KB) â†’ æ—©æœŸä¸šåŠ¡è®¾è®¡
- [ ] `å‰§æœ¬å¤§çº²è½¬JSONæŠ€æœ¯å®ç°æ–‡æ¡£.md` (50KB) â†’ æ—©æœŸæŠ€æœ¯è®¾è®¡
- [ ] `11.03 act1å·¥æ—¶å‡å°‘&æ— é™é€’å½’é—®é¢˜.md` (8KB) â†’ å†å²bugè®°å½•

**æ€»è®¡å¯ç§»åŠ¨**: ~246KB æ–‡æ¡£ â†’ `docs/archive/old-design/`

#### 1.3 éœ€è¦ç§»åŠ¨åˆ° `docs/deployment/` çš„æ–‡æ¡£
- [ ] `DEPLOY_READY_CHECKLIST.md` â†’ å·²è¢« `ref/DEPLOYMENT_GUIDE.md` éƒ¨åˆ†æ›¿ä»£
- [ ] `vercel.json` - ä¿ç•™åœ¨æ ¹ç›®å½• (Verceléœ€è¦)

#### 1.4 éœ€è¦åˆ é™¤çš„ä¸´æ—¶æ–‡ä»¶
- [ ] `build.log` - å†å²æ„å»ºæ—¥å¿—
- [ ] `.env.local.backup` - å¤‡ä»½æ–‡ä»¶
- [ ] `.env.supabase` - å·²æ•´åˆåˆ° `.env.local`
- [ ] `tsconfig.tsbuildinfo` - TypeScriptæ„å»ºç¼“å­˜ (åº”åœ¨ .gitignore)

#### 1.5 éœ€è¦è¯„ä¼°çš„ç›®å½•
- [ ] `.bmad-core/` - æœªçŸ¥ç”¨é€”ï¼Œéœ€è¦ç¡®è®¤
- [ ] `Appendix/` - éœ€è¦æ£€æŸ¥å†…å®¹
- [ ] `monitoring/` - ç›‘æ§ä»£ç ï¼Œè¯„ä¼°æ˜¯å¦ä½¿ç”¨ä¸­
- [ ] `test-results/` - E2Eæµ‹è¯•ç»“æœï¼Œåº”åœ¨ .gitignore

---

### Phase 2: `docs/` ç›®å½•é‡ç»„ (ä¼˜å…ˆçº§: P1)

#### 2.1 å½“å‰ `docs/` ç»“æ„é—®é¢˜
```
docs/
â”œâ”€â”€ architecture/          # ç³»ç»Ÿæ¶æ„æ–‡æ¡£ (250+ pages) âœ…
â”œâ”€â”€ epics/                 # Epicå¼€å‘æ–‡æ¡£ âœ…
â”œâ”€â”€ fixes/                 # Bugä¿®å¤æ–‡æ¡£ âœ…
â”œâ”€â”€ archive/               # å†å²æ–‡æ¡£ âš ï¸ å†…å®¹æ··æ‚
â”œâ”€â”€ config/                # é…ç½®æ–‡æ¡£ âš ï¸ ä»…2ä¸ªæ–‡ä»¶
â””â”€â”€ references/            # å‚è€ƒæ–‡æ¡£ âš ï¸ ä¸ `/ref` æ··æ·†
```

#### 2.2 å»ºè®®é‡ç»„æ–¹æ¡ˆ
```
docs/
â”œâ”€â”€ 00-README.md                    # æ–‡æ¡£å¯¼èˆªæ€»ç´¢å¼•
â”œâ”€â”€ architecture/                   # âœ… ä¿æŒä¸å˜
â”œâ”€â”€ epics/                          # âœ… ä¿æŒä¸å˜
â”œâ”€â”€ guides/                         # ğŸ†• æ•´åˆå¼€å‘æŒ‡å—
â”‚   â”œâ”€â”€ testing/                   # ä» archive/testing/ ç§»åŠ¨
â”‚   â”œâ”€â”€ deployment/                # æ•´åˆéƒ¨ç½²æ–‡æ¡£
â”‚   â””â”€â”€ troubleshooting/           # ä» fixes/ ç§»åŠ¨
â”œâ”€â”€ archive/                        # ğŸ”„ é‡æ–°åˆ†ç±»
â”‚   â”œâ”€â”€ old-design/                # ğŸ†• æ—©æœŸè®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ deprecated-code/           # ğŸ†• åºŸå¼ƒä»£ç è¯´æ˜
â”‚   â””â”€â”€ historical-bugs/           # ğŸ†• å†å²bugè®°å½•
â””â”€â”€ meeting-notes/                  # ğŸ†• ä¼šè®®çºªè¦ (å¦‚æœéœ€è¦)
```

#### 2.3 æ¸…ç†è¡ŒåŠ¨
- [ ] åˆ é™¤ `docs/config/` (å†…å®¹å°‘ï¼Œæ•´åˆåˆ°å…¶ä»–ä½ç½®)
- [ ] åˆ é™¤ `docs/references/` (é¿å…ä¸ `/ref` æ··æ·†)
- [ ] ç§»åŠ¨æ ¹ç›®å½•æ—§æ–‡æ¡£åˆ° `docs/archive/old-design/`
- [ ] åˆ›å»º `docs/00-README.md` æ–‡æ¡£å¯¼èˆª

---

### Phase 3: ç¯å¢ƒé…ç½®æ–‡ä»¶æ¸…ç† (ä¼˜å…ˆçº§: P1)

#### 3.1 å½“å‰ç¯å¢ƒæ–‡ä»¶ (4ä¸ª)
- `.env` - Gitè¿½è¸ªçš„æ¨¡æ¿æ–‡ä»¶
- `.env.local` - æœ¬åœ°å¼€å‘é…ç½®
- `.env.local.backup` - å¤‡ä»½æ–‡ä»¶
- `.env.supabase` - Supabaseé…ç½®

#### 3.2 æ¸…ç†æ–¹æ¡ˆ
- [x] ä¿ç•™ `.env` (æ¨¡æ¿)
- [x] ä¿ç•™ `.env.local` (å¼€å‘)
- [ ] **åˆ é™¤** `.env.local.backup` (ä¸åº”å­˜åœ¨äºgit)
- [ ] **åˆ é™¤** `.env.supabase` (å·²æ•´åˆåˆ° `.env.local`)
- [ ] åˆ›å»º `env/` ç›®å½•ï¼Œå­˜æ”¾ä¸åŒç¯å¢ƒçš„æ¨¡æ¿:
  ```
  env/
  â”œâ”€â”€ .env.example          # å¼€å‘ç¯å¢ƒæ¨¡æ¿
  â”œâ”€â”€ .env.production.example  # ç”Ÿäº§ç¯å¢ƒæ¨¡æ¿
  â””â”€â”€ README.md             # ç¯å¢ƒé…ç½®è¯´æ˜
  ```

---

### Phase 4: ä»£ç ç›®å½•ä¼˜åŒ– (ä¼˜å…ˆçº§: P2)

#### 4.1 `lib/` ç›®å½•è¯„ä¼°
éœ€è¦æ£€æŸ¥çš„æ¨¡å—ï¼š
- [ ] `lib/agents/` - AIä»£ç† (æ ¸å¿ƒä¸šåŠ¡) âœ…
- [ ] `lib/api/` - APIä¸­é—´ä»¶ (æ ¸å¿ƒ) âœ…
- [ ] `lib/db/` - æ•°æ®åº“æœåŠ¡ (æ ¸å¿ƒ) âœ…
- [ ] `lib/synthesis/` - åˆæˆå¼•æ“ (æ ¸å¿ƒ) âœ…
- [ ] `lib/parser/` - è„šæœ¬è§£æå™¨ (è¯„ä¼°ä½¿ç”¨é¢‘ç‡)
- [ ] `lib/services/` - ä¸šåŠ¡æœåŠ¡ (æ ¸å¿ƒ) âœ…
- [ ] `lib/analysis/` - å¤šæ–‡ä»¶åˆ†æ (Sprint 3) âœ…

#### 4.2 `components/` ç›®å½•è¯„ä¼°
- [ ] `components/workspace/` - å·¥ä½œåŒºç»„ä»¶ âœ…
- [ ] `components/synthesis/` - åˆæˆç»„ä»¶ âœ…
- [ ] `components/ui/` - UIç»„ä»¶åº“ âœ…
- [ ] æ£€æŸ¥æ˜¯å¦æœ‰åºŸå¼ƒç»„ä»¶

#### 4.3 `scripts/` ç›®å½•æ¸…ç†
éœ€è¦è¯„ä¼°çš„è„šæœ¬ï¼š
- [ ] `debug-act1-analysis.ts` - Debugå·¥å…· âœ…
- [ ] `verify-docker-deployment.sh` - DockeréªŒè¯ âœ…
- [ ] å…¶ä»–è„šæœ¬æ˜¯å¦ä»åœ¨ä½¿ç”¨ï¼Ÿ

---

### Phase 5: æµ‹è¯•ç›®å½•é‡ç»„ (ä¼˜å…ˆçº§: P2)

#### 5.1 å½“å‰æµ‹è¯•ç»“æ„é—®é¢˜
```
tests/
â”œâ”€â”€ unit/                  # å•å…ƒæµ‹è¯• âœ…
â”œâ”€â”€ integration/           # é›†æˆæµ‹è¯• âœ…
â”œâ”€â”€ e2e/                   # E2Eæµ‹è¯• (æ ¹ç›®å½•ä¹Ÿæœ‰ e2e/)
â””â”€â”€ __tests__/             # âš ï¸ æ—§çš„æµ‹è¯•æ–‡ä»¶ (å·²åºŸå¼ƒ)
```

#### 5.2 æ¸…ç†è¡ŒåŠ¨
- [ ] åˆ é™¤æˆ–å½’æ¡£ `tests/__tests__/` (å·²è¢«æ–°æµ‹è¯•æ›¿ä»£)
- [ ] æ•´åˆ `e2e/` å’Œ `tests/e2e/` (é¿å…é‡å¤)
- [ ] åˆ é™¤ `test-results/` ç›®å½• (æ·»åŠ åˆ° .gitignore)

---

## ğŸ”§ æ‰§è¡Œæ­¥éª¤

### Step 1: å¤‡ä»½è¯„ä¼° (å®‰å…¨ç¬¬ä¸€)
```bash
# åˆ›å»ºå¤‡ä»½åˆ†æ”¯
git branch backup-before-cleanup

# åˆ—å‡ºæ‰€æœ‰æ ¹ç›®å½•æ–‡ä»¶å¤§å°
ls -lh | sort -k5 -h
```

### Step 2: åˆ›å»ºæ–°ç›®å½•ç»“æ„
```bash
# åˆ›å»ºå½’æ¡£ç›®å½•
mkdir -p docs/archive/old-design
mkdir -p docs/guides/{testing,deployment,troubleshooting}

# åˆ›å»ºç¯å¢ƒé…ç½®è¯´æ˜
mkdir -p env
```

### Step 3: ç§»åŠ¨æ–‡æ¡£æ–‡ä»¶ (Phase 1)
```bash
# ç§»åŠ¨æ—§è®¾è®¡æ–‡æ¡£
mv ACT1_TECHNICAL_IMPLEMENTATION.md docs/archive/old-design/
mv BUSINESS_FLOW.md docs/archive/old-design/
mv BUSINESS_REQUIREMENTS_DISCUSSION.md docs/archive/old-design/
mv MULTI_SCRIPT_ANALYSIS_REQUIREMENTS.md docs/archive/old-design/
mv PENDING_DISCUSSIONS.md docs/archive/old-design/
mv å‰§æœ¬å¤§çº²è½¬JSON*.md docs/archive/old-design/
mv "11.03  act1å·¥æ—¶å‡å°‘&æ— é™é€’å½’é—®é¢˜.md" docs/archive/old-design/

# ç§»åŠ¨éƒ¨ç½²æ–‡æ¡£
mv DEPLOY_READY_CHECKLIST.md docs/guides/deployment/
```

### Step 4: åˆ é™¤ä¸´æ—¶æ–‡ä»¶
```bash
# åˆ é™¤ä¸´æ—¶æ–‡ä»¶
rm -f build.log
rm -f .env.local.backup
rm -f .env.supabase
rm -f tsconfig.tsbuildinfo

# æ¸…ç†æµ‹è¯•ç»“æœ
rm -rf test-results/
```

### Step 5: æ›´æ–° .gitignore
```bash
# æ·»åŠ ä»¥ä¸‹å†…å®¹åˆ° .gitignore
echo "tsconfig.tsbuildinfo" >> .gitignore
echo "test-results/" >> .gitignore
echo "build.log" >> .gitignore
echo ".env.*.backup" >> .gitignore
```

### Step 6: æäº¤å˜æ›´
```bash
git add -A
git commit -m "chore: Phase 1 - æ¸…ç†æ ¹ç›®å½•æ–‡æ¡£å’Œä¸´æ—¶æ–‡ä»¶

- ç§»åŠ¨8ä¸ªæ—§è®¾è®¡æ–‡æ¡£åˆ° docs/archive/old-design/
- åˆ é™¤ä¸´æ—¶æ–‡ä»¶ (build.log, .env.backup)
- æ›´æ–° .gitignore æ’é™¤æ„å»ºäº§ç‰©
- åˆ›å»º PROJECT_CLEANUP_PLAN.md è®°å½•æ¸…ç†è¿‡ç¨‹
"
```

---

## âœ… éªŒè¯æ¸…å•

### Phase 1 éªŒè¯
- [ ] æ ¹ç›®å½•æ–‡ä»¶æ•°é‡å‡å°‘ (ç›®æ ‡: <30ä¸ª)
- [ ] æ‰€æœ‰ç§»åŠ¨çš„æ–‡æ¡£åœ¨æ–°ä½ç½®å¯è®¿é—®
- [ ] `npm run dev` æ­£å¸¸å¯åŠ¨
- [ ] `npm run build` æ„å»ºæˆåŠŸ
- [ ] æµ‹è¯•å¥—ä»¶é€šè¿‡ (`npm test`)

### Phase 2-5 éªŒè¯ (å¾…åç»­æ‰§è¡Œ)
- [ ] æ–‡æ¡£å¯¼èˆªæ›´æ–° (CLAUDE.md, README.md)
- [ ] CI/CD é…ç½®æ›´æ–° (å¦‚æœå—å½±å“)
- [ ] å›¢é˜Ÿæˆå‘˜ç¡®è®¤æ–°ç»“æ„

---

## ğŸ“Š æ¸…ç†æ•ˆæœé¢„æœŸ

### æ ¹ç›®å½•æ–‡ä»¶æ•°é‡å¯¹æ¯”
- **æ¸…ç†å‰**: ~50ä¸ªæ–‡ä»¶/æ–‡ä»¶å¤¹
- **Phase 1å**: ~42ä¸ª (-8ä¸ªæ–‡æ¡£)
- **Phase 2-5å**: ~30ä¸ª (ç›®æ ‡)

### ç£ç›˜ç©ºé—´é‡Šæ”¾
- ç§»é™¤ä¸´æ—¶æ–‡ä»¶: ~1MB
- é‡ç»„æ–‡æ¡£ç»“æ„: ä¸æ”¹å˜æ€»å¤§å°ï¼Œä½†æé«˜å¯è¯»æ€§

### ç»´æŠ¤æ€§æ”¹è¿›
- âœ… æ–°æˆå‘˜å¯å¿«é€Ÿæ‰¾åˆ°æ–‡æ¡£
- âœ… æ ¹ç›®å½•æ¸…çˆ½ï¼Œæ ¸å¿ƒæ–‡ä»¶çªå‡º
- âœ… å†å²æ–‡æ¡£å½’æ¡£ï¼Œä¸å½±å“å½“å‰å¼€å‘
- âœ… æ–‡æ¡£åˆ†ç±»æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤

---

## ğŸš¨ é£é™©æ§åˆ¶

### é£é™©1: è¯¯åˆ é‡è¦æ–‡ä»¶
**ç¼“è§£æªæ–½**:
- åˆ›å»ºå¤‡ä»½åˆ†æ”¯ `backup-before-cleanup`
- æ¯ä¸ªPhaseå•ç‹¬æäº¤ï¼Œä¾¿äºå›æ»š
- ç§»åŠ¨å‰ç¡®è®¤æ–‡ä»¶ç”¨é€”

### é£é™©2: ç ´åç°æœ‰åŠŸèƒ½
**ç¼“è§£æªæ–½**:
- æ¯æ¬¡å˜æ›´åè¿è¡Œå®Œæ•´æµ‹è¯•
- ä¿ç•™æ‰€æœ‰ä»£ç æ–‡ä»¶ä½ç½®ä¸å˜ (ä»…ç§»åŠ¨æ–‡æ¡£)
- åˆ†é˜¶æ®µæ‰§è¡Œï¼Œé€æ­¥éªŒè¯

### é£é™©3: æ–‡æ¡£å¼•ç”¨å¤±æ•ˆ
**ç¼“è§£æªæ–½**:
- ç§»åŠ¨åæ›´æ–°æ‰€æœ‰æ–‡æ¡£å†…éƒ¨é“¾æ¥
- æ£€æŸ¥ CLAUDE.md å’Œ README.md å¼•ç”¨
- åˆ›å»ºé‡å®šå‘è¯´æ˜ (å¦‚æœéœ€è¦)

---

## ğŸ“ æ‰§è¡Œæ—¥å¿—

### 2025-11-09
- [x] åˆ›å»º `feature/project-cleanup` åˆ†æ”¯
- [x] åˆ†ææ ¹ç›®å½•ç»“æ„
- [x] åˆ¶å®šæ¸…ç†è®¡åˆ’æ–‡æ¡£
- [ ] **å¾…æ‰§è¡Œ**: Phase 1 æ–‡æ¡£ç§»åŠ¨

### åç»­è®¡åˆ’
- [ ] Phase 1: æ ¹ç›®å½•æ–‡æ¡£æ•´ç† (é¢„è®¡ 30åˆ†é’Ÿ)
- [ ] Phase 2: docs/ ç›®å½•é‡ç»„ (é¢„è®¡ 1å°æ—¶)
- [ ] Phase 3: ç¯å¢ƒé…ç½®æ¸…ç† (é¢„è®¡ 15åˆ†é’Ÿ)
- [ ] Phase 4: ä»£ç ç›®å½•è¯„ä¼° (é¢„è®¡ 1å°æ—¶)
- [ ] Phase 5: æµ‹è¯•ç›®å½•é‡ç»„ (é¢„è®¡ 30åˆ†é’Ÿ)

---

## ğŸ¯ æœ€ç»ˆç›®æ ‡

**ä¸€ä¸ªæ¸…çˆ½ã€æœ‰åºã€æ˜“äºç»´æŠ¤çš„é¡¹ç›®ç»“æ„**:
```
Director-Actor-Collaborater-MVP/
â”œâ”€â”€ ğŸ“„ æ ¸å¿ƒé…ç½® (10ä¸ªæ–‡ä»¶)
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â”œâ”€â”€ next.config.js
â”‚   â””â”€â”€ ...
â”œâ”€â”€ ğŸ“š æ ¸å¿ƒæ–‡æ¡£ (3ä¸ªæ–‡ä»¶)
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ CLAUDE.md
â”‚   â””â”€â”€ LICENSE
â”œâ”€â”€ ğŸ“ æºä»£ç ç›®å½• (7ä¸ª)
â”‚   â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ types/
â”‚   â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ tests/
â”œâ”€â”€ ğŸ“ æ–‡æ¡£ç›®å½• (1ä¸ª)
â”‚   â””â”€â”€ docs/
â”œâ”€â”€ ğŸ“ å‚è€ƒæ–‡æ¡£ (1ä¸ª)
â”‚   â””â”€â”€ ref/
â””â”€â”€ ğŸ“ é…ç½®ç›®å½• (2ä¸ª)
    â”œâ”€â”€ config/
    â””â”€â”€ env/
```

**æ€»è®¡æ ¹ç›®å½•é¡¹ç›®**: ~25ä¸ª (ç›¸æ¯”å½“å‰å‡å°‘50%)
