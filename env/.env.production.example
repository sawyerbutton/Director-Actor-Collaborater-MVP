# =====================================
# 生产环境变量配置模板
# Production Environment Configuration Template
# =====================================
#
# 使用说明 / Instructions:
# 1. 复制这些变量到Vercel环境变量设置
# 2. 替换所有示例值为实际值
# 3. 不要提交包含真实密钥的.env文件到Git
# =====================================

# 应用环境 / Application Environment
NODE_ENV=production

# =====================================
# 必需配置 / Required Configuration
# =====================================

# Supabase数据库配置 / Supabase Database Configuration
# 重要：新版Supabase使用不同的连接模式 / Important: New Supabase uses different connection modes

# Connection Pooling连接 (用于应用) / Connection Pooling (for application)
# 从Supabase: Settings -> Database -> Connection Pooling -> Transaction mode
# 端口 / Port: 6543
DATABASE_URL=postgresql://postgres.your-project-ref:[YOUR-PASSWORD]@aws-0-singapore.pooler.supabase.com:6543/postgres

# Direct Connection (用于Prisma迁移) / Direct Connection (for Prisma migrations)
# 从Supabase: Settings -> Database -> Direct Connection
# 端口 / Port: 5432
DIRECT_URL=postgresql://postgres.your-project-ref:[YOUR-PASSWORD]@aws-0-singapore.pooler.supabase.com:5432/postgres

# DeepSeek AI配置 / DeepSeek AI Configuration
# 从 https://platform.deepseek.com 获取API密钥
DEEPSEEK_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
DEEPSEEK_API_URL=https://api.deepseek.com

# 应用URL / Application URL
# 格式 / Format: https://[your-project-name].vercel.app
# 部署后更新为实际URL / Update after deployment
NEXT_PUBLIC_APP_URL=https://your-project-name.vercel.app
NEXT_PUBLIC_API_VERSION=v1

# =====================================
# 多文件分析服务配置 / Multi-File Analysis Service Configuration
# Sprint 3新增 / Added in Sprint 3
# =====================================

# Python转换器服务 / Python Converter Service
# 选项1: 使用Docker部署 / Option 1: Docker deployment
# PYTHON_CONVERTER_URL=http://python-converter:8001
#
# 选项2: 使用外部服务（推荐用于Vercel） / Option 2: External service (recommended for Vercel)
# PYTHON_CONVERTER_URL=https://your-python-converter.railway.app
#
# 开发环境 / Development
PYTHON_CONVERTER_URL=http://localhost:8001

# =====================================
# 可选配置 / Optional Configuration
# =====================================

# Redis配置 (暂时不需要) / Redis Configuration (Not needed for MVP)
# REDIS_URL=redis://user:password@host:port

# 错误追踪 / Error Tracking (e.g., Sentry)
# SENTRY_DSN=your-sentry-dsn

# 访问分析 / Analytics
# NEXT_PUBLIC_GA_ID=your-google-analytics-id

# 速率限制配置 / Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100  # Max requests per window

# =====================================
# 部署前检查清单 / Pre-deployment Checklist
# =====================================
#
# 必需配置 / Required:
# [ ] DATABASE_URL - 从Supabase复制完整连接字符串 (端口6543, pgbouncer=true)
# [ ] DIRECT_URL - 从Supabase复制Direct连接字符串 (端口5432)
# [ ] DEEPSEEK_API_KEY - 从DeepSeek平台获取并填入
# [ ] DEEPSEEK_API_URL - 确认为 https://api.deepseek.com
# [ ] NODE_ENV - 确认为 production
# [ ] NEXT_PUBLIC_APP_URL - 部署成功后更新为实际URL
# [ ] NEXT_PUBLIC_API_VERSION - 确认为 v1
#
# Sprint 3多文件分析配置 / Sprint 3 Multi-File Analysis:
# [ ] PYTHON_CONVERTER_URL - 配置Python转换器服务地址
#     - 本地Docker: http://localhost:8001
#     - 外部服务: https://your-service-url (推荐用于Vercel)
#     - Railway部署: 参见 docs/deployment/PYTHON_CONVERTER_DEPLOYMENT.md
#
# 可选配置 / Optional:
# [ ] RATE_LIMIT_WINDOW_MS - 速率限制窗口 (默认900000ms = 15分钟)
# [ ] RATE_LIMIT_MAX_REQUESTS - 最大请求数 (默认100)
#
# =====================================